<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <title>DongTest</title>
  <link rel="stylesheet" href="./MAIN/CSS/main.css">
</head>

<body>
  <model-viewer id="model-viewer" animation-name="modelAnim" src="./MAIN/ASSET/GLB/malegolf_fullswing.glb" autoplay
    shadow-intensity="1" ar ar-modes="webxr scene-viewer quick-look" camera-controls>
    <button slot="ar-button" id="ar-button">
      View in your space
    </button>

    <div id="ar-prompt">
      <img src="./MAIN/ASSET/GLB/hand.png">
    </div>

    <button id="ar-failure">
      AR is not tracking!
    </button>

    <!-- <button onclick="play()" class="controlsbtn" type="button">Play</button>
    <button onclick="pause()" class="controlsbtn" type="button">Pause</button>
    <button onclick="stop()" class="controlsbtn" type="button">Stop</button> -->
    <div class="slider">
      <div class="slides">
        <button class="slide selected" onclick="switchSrc(this, 'malegolf_fullswing')"
          style="background-image: url('./MAIN/ASSET/GLB/malegolf_fullswing.png');">
        </button><button class="slide" onclick="switchSrc(this, 'barbell_squat')"
          style="background-image: url('./MAIN/ASSET/GLB/barbell_squat.png');">
        </button><button class="slide" onclick="switchSrc(this, 'dumbbell_squat')"
          style="background-image: url('./MAIN/ASSET/GLB/dumbbell_squat.png');">
        </button><button class="slide" onclick="switchSrc(this, 'femalegolf_fullswing')"
          style="background-image: url('./MAIN/ASSET/GLB/femalegolf_fullswing.png');">
        </button><button class="slide" onclick="switchSrc(this, 'freestyle_waacking')"
          style="background-image: url('./MAIN/ASSET/GLB/freestyle_waacking.png');">
        </button><button class="slide" onclick="switchSrc(this, 'hiphop_itzy')"
          style="background-image: url('./MAIN/ASSET/GLB/hiphop_itzy.png');">
        </button><button class="slide" onclick="switchSrc(this, 'kettlebell_lunge')"
          style="background-image: url('./MAIN/ASSET/GLB/kettlebell_lunge.png');">
        </button><button class="slide" onclick="switchSrc(this, 'stretching_side_lunge')"
          style="background-image: url('./MAIN/ASSET/GLB/stretching_side_lunge.png');">
        </button>
      </div>
    </div>
  </model-viewer>
  <script>
    // function pause() {
    //   //alert("작동")
    //   const modelViewer = document.querySelector('#model-viewer');
    //   //modelViewer.animationName = 'modelAnim';
    //   modelViewer.pause();
    // }

    // function play() {
    //   const modelViewer = document.querySelector('#model-viewer');
    //   //modelViewer.animationName = 'modelAnim';
    //   //modelViewer.currentTime = 0;
    //   modelViewer.play();
    // }

    // function stop() {
    //   const modelViewer = document.querySelector('#model-viewer');
    //   //modelViewer.animationName = 'modelAnim';
    //   //modelViewer.currentTime = 0;
    //   modelViewer.currentTime = 0;
    //   modelViewer.pause();
    // }
  </script>

  <script type="module">
    const modelViewer = document.querySelector("model-viewer");

    window.switchSrc = (element, name) => {
      const base = "./MAIN/ASSET/GLB/" + name;
      modelViewer.src = base + '.glb';
      modelViewer.poster = base + '.png';
      const slides = document.querySelectorAll(".slide");
      slides.forEach((element) => { element.classList.remove("selected"); });
      element.classList.add("selected");
    };

    document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
      // Keep slider interactions from affecting the XR scene.
      ev.preventDefault();
    });
  </script>
</body>

</html>